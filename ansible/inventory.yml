all:
  vars:
    ansible_user: ec2-user
    ansible_python_interpreter: /usr/bin/python3
    ansible_become_password: "{{ lookup('password', '/dev/null', length=24, seed='mobicom-lakehouse.sudo.password') }}"
    root_password: "{{ lookup('password', '/dev/null', length=24, seed='mobicom-lakehouse.root.password') }}"
    network_interface: eth0
  children:
    cis_benchmark:
      hosts:
        10.0.5.34:
        10.0.5.28:
    spark_nodes:
      vars:
        spark_image: 122610515913.dkr.ecr.ap-southeast-1.amazonaws.com/yarn-spark:latest
      children:
        spark_main_node:
          vars:
            airflow:
              username: airflow
              password: "{{ lookup('password', '/dev/null', length=24, seed='mobicom-lakehouse.airflow.password') }}"
            mssql:
              password: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                61373730323737633361363330643766383664633932323161316366643938373538656339363830
                3138656436363438386632623562373938383934646232660a373239313932633635623835623233
                39613037303632336662313762393236623034346538623665323064616238343363313165363561
                3731383535666439640a353564396262323761376138613332386430376661353333623739303466
                6337
            atlas:
              password: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                33343337313236363735313263346235653630363764326266393231323866396364313036346430
                6538343866656230636563356131626661306437643562650a323065636161633563653831666436
                31373630393234653934366234393236646630343530386430316530613437653462643433663832
                6166643963313734320a363462356337376538616338323338303037303330613839333634613263
                3864
            clickhouse:
              host: "10.0.6.61"
              password: !vault |
                $ANSIBLE_VAULT;1.1;AES256
                61353364316166393834356535643731343531343566363737323862343361386336353331623432
                3839383062333033616431376238366130313935333235360a613831393164663766636134366466
                34346232393830666439663232356463613034633333666535623237663936366566313630313833
                6164653033663231340a633434346232633235316363313264363231386331306333613935336663
                61356263343232323562393637396331353634633634366533396239396339666566
          hosts:
            ip-10-0-4-72.ap-southeast-1.compute.internal:
        spark_worker_nodes:
          hosts:
            ip-10-0-4-128.ap-southeast-1.compute.internal:
            ip-10-0-4-4.ap-southeast-1.compute.internal:
    atlas_nodes:
      hosts:
        ip-10-0-4-162.ap-southeast-1.compute.internal:
